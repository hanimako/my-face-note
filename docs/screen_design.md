# MyFaceNote 画面設計書（MVP）

> **本書は最新版**（2025‑07‑16 時点）。旧仕様（右下 FAB／動的切替など）は完全に削除済です。

---

## 1. 画面・モーダル一覧

| ID   | 種別     | ラベル         | 概要                       |
| ---- | -------- | -------------- | -------------------------- |
| P‑01 | ページ   | ホーム（名簿） | 一覧・登録導線・クイズ導線 |
| M‑01 | モーダル | 新規登録       | 利用者情報を登録           |
| M‑02 | モーダル | 編集           | 既存利用者を編集／削除     |
| P‑02 | ページ   | 名前当てクイズ | 顔 ⇄ 名前 4 択テスト       |
| S‑01 | シート   | クイズ設定     | 出題範囲・モード選択       |

---

## 2. 画面詳細

### P‑01  ホーム（名簿）

| 要素             | 内容                                                                                                                                                                                                                                                                                                                                                                                                  |
| ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ヘッダー**     | 小ロゴ _MyFaceNote_（左寄せ）                                                                                                                                                                                                                                                                                                                                                                         |
| **タイトル**     | 大見出し「顔と名前をおぼえる帳」                                                                                                                                                                                                                                                                                                                                                                      |
| **アクション行** | ボタン **📋 名前当てクイズ**（`disabled` when `cardCount === 0`）をタイトル直下センター配置                                                                                                                                                                                                                                                                                                           |
| **フィルタ行**   | `cardCount > 0` のときのみ表示<br>・トグル：☑ 未記憶のみ<br>・所属ドロップダウン（履歴最大 10 件）                                                                                                                                                                                                                                                                                                    |
| **名簿グリッド** | - **先頭セル**：＋カード（ガイダンス文「タップして登録」）<br>- 2〜4 列レスポンシブ (`grid-cols-2 sm:grid-cols-3 lg:grid-cols-4`)<br>- カード並び＝新 → 旧（最新が最上段左から）<br>- カード内容：**縦レイアウト**（上 → 下）= 顔写真（円形 80 px）／氏名（最大 2 行・文字縮小なし）／所属（小文字）／覚え度アイコン（トグル）。写真と氏名を横並びにしないため、氏名が 7 文字程度まで自然に表示可能。 |
| **空状態 UX**    | `cardCount === 0` のとき、画面中央に 30% 透明度で「カードを追加してスタート！」を表示。＋カードと重ならないよう `pointer-events:none`                                                                                                                                                                                                                                                                 |

---

### M‑01  新規登録モーダル (Centered)

- ヘッダー：タイトル＋ ✕ クローズ
- 顔写真プレースホルダー（撮影／選択）
- 氏名（必須）
- 所属（datalist 履歴 10 件）
- メモ（多行）
- 保存ボタン（バリデーション）

### M‑02  編集モーダル

- M‑01 と同 UI ＋下部に**削除**ボタン（破壊的）

---

### P‑02  名前当てクイズ

| 要素           | 内容                                                                                                                                                                                                                                                                |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- |
| ヘッダー       | ← 戻る／タイトル「名前当てクイズ」                                                                                                                                                                                                                                  |
| 設定ボタン     | ヘッダーと問題エリアの間に右揃えで配置<br>角まるボタン「⚙ クイズ設定」                                                                                                                                                                                              |
| 問題エリア     | 顔写真（120 px）**or** 氏名テキスト（モード依存）                                                                                                                                                                                                                   |
| 選択肢         | 4 択グリッド 2×2／氏名のみを表示（所属は表示しない）／押下で正誤判定・ランダム並べ替え                                                                                                                                                                              |     |
| フィードバック | **インライン方式 (案 D)**：”次の問題 ▶“ ボタンが押下時に `bg-green-500`（正解）／`bg-red-500`（不正解）へ変色し、ラベルを「正解！」「不正解…」に置き換える。ユーザーがボタンをタップすると色とテキストが元に戻り、次問読み込み。追加のトースト/バナーは使用しない。 |
| 次へ           | ボタン「次の問題 ▶」                                                                                                                                                                                                                                                |

**出題ロジック**
| 利用者数 | 出題数 | 4 択構成 |
|----------|--------|---------|
| 1 | 1 | 正解 1 + ダミー 3 |
| 2 | 2 | 正解 1 + もう 1 人 + ダミー 2 |
| 3 | 3 | 正解 1 + 残り 2 人 + ダミー 1 |
| ≥4 | 利用者数 | 正解 1 + 不正解 3 (利用者プール) |

ダミー氏名：佐藤太郎, 鈴木花子, 高橋健, 田中美咲（固定）

---

### S‑01  クイズ設定シート

- モバイル：BottomSheet (`bottom-0 w-full`)
- PC：SideSheet (`right-0 w-80 h-full`)
- 出題対象：全員／未記憶のみ
- モード：顔 → 名前／名前 → 顔
- 所属フィルタ：ドロップダウン

---

## 3. 共通仕様

- **カード 0 件**：フィルタ非表示＆中央ガイダンス＆＋カードのみ
- **IndexedDB エラーハンドリング**：書込み失敗時に Toast 表示し入力保持。
- **PWA 更新**：`skipWaiting()` で自動更新。バナーなし。

---

_以上を正式な MVP 画面仕様とする。旧バージョンとの齟齬はここを基準に修正すること。_
